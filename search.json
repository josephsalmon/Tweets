[
  {
    "objectID": "economics/index.html",
    "href": "economics/index.html",
    "title": "Public civil servant and inflation rate in France",
    "section": "",
    "text": "In the file fonctionnaires_pauvres.py we investigated the evolution of the salary of civil servants in France through the “Point d’indice” evolution.\n\n\nDownloading data from 'https://www.insee.fr/fr/statistiques/serie/telecharger/csv/001763852?ordre=antechronologique&transposition=donneescolonne&periodeDebut=1&anneeDebut=1990&periodeFin=6&anneeFin=2023&revision=sansrevisions' to file '/home/runner/.cache/pooch/18977fb05ef843a0cc127a230bec921b-001763852'.\nSHA256 hash of downloaded file: 7ee1f9f537fb6b0552add52755772a6f7d92cb1ad17f5a4fdb8c6e28e36140d1\nUse this value as the 'known_hash' argument of 'pooch.retrieve' to ensure that the file hasn't changed if it is downloaded again in the future.\n\n\n\ndf_ipc.columns = [\"Date\", \"IPC\", \"Useless\", \"Date2\"]\ndf_ipc.index = pd.to_datetime(df_ipc[\"Date\"], format=\"%Y-%m\")\ndf_ipc.drop(df_ipc.columns[[0, 2]], inplace=True, axis=1)\n\ndf_ipc.head()\n\n# Set origin\ninit_date = \"2005-09-01\"\ndf_ipc[\"IPC(idx)\"] = df_ipc[\"IPC\"] / df_ipc.loc[init_date][\"IPC\"]\ndf_ipc.head()\n# sort by \"Date\" in ascending order\ndf_ipc.sort_values(by=\"Date\", inplace=True)\n\n\nfname_pt_indice = pooch.retrieve(\"https://www.data.gouv.fr/fr/datasets/r/6b5a3e7e-7de7-437c-b8eb-a04ab4138fbb\", known_hash=None)\n\ndf_pt_idx = pd.read_csv(fname_pt_indice, usecols=[\"date_effet\", \"valeur_100_points_euros\"])\n\n\n# df_pt_idx = pd.read_csv(\"point_indice.csv\", skiprows=1, sep=\",\")\n# df_pt_idx.columns = [\"Date\", \"Point d'indice\"]\n# df_pt_idx.columns = [\"date_effet\", \"valeur_100_points_euros\"]\n\ndf_pt_idx = df_pt_idx.rename(columns={\"date_effet\": \"Date\", \"valeur_100_points_euros\": \"Point d'indice\"})\n\ndf_pt_idx[\"Date\"] = pd.to_datetime(df_pt_idx[\"Date\"], format=\"%Y-%m-%d\")\n\ndf_pt_idx.sort_values(by=\"Date\", inplace=True)\n\n# df_pt_idx[\"Point d'indice(idx)\"] =df_pt_idx[\"Point d'indice\"]/ df_pt_idx.loc[init_date][\"IPC\"]\n# df_pt_idx.head()\n# %%\n\ndf = pd.merge_asof(df_ipc, df_pt_idx, on=\"Date\")\ndf.index = df[\"Date\"]\n\n\ndf.loc[init_date][\"Point d'indice\"]\ndf[\"Point d'indice(idx)\"] = (\n    df[\"Point d'indice\"] / df.loc[init_date][\"Point d'indice\"]\n)\n\ndf[\"Point d'indice(euros constant)\"] = (\n    df[\"Point d'indice(idx)\"] / df[\"IPC(idx)\"]\n)\n\n# df_pt_idx.merge(df_ipc, left_index=True, right_index=True, how='inner')\n# %%\n\n\ndf.plot(x=\"Date\", y=[\"IPC(idx)\", \"Point d'indice(idx)\"])\nax = plt.gca()\nax.set_xlim(left=np.datetime64(init_date))\nax.set_ylim(bottom=0.9)\nfig = ax.get_figure()\nfig.savefig(\"./svg/ipc_n_point_indice.svg\")\nfig.savefig(\"./png/ipc_n_point_indice.png\")\nplt.show()\nplt.close(\"all\")\n# %%\n\ndf.plot(\n    x=\"Date\",\n    y=[\"Point d'indice(euros constant)\"],\n    title=\"Point d'indice (€ corrigé de l'inflation):\\n Réference 1 le \"\n    + init_date,\n)\nax = plt.gca()\nax.set_xlim(left=np.datetime64(init_date))\nax.set_ylim(bottom=0.80, top=1.2)\nax.legend().remove()\nfig = ax.get_figure()\nfig.savefig(\"./svg/point_indice.svg\")\nfig.savefig(\"./png/point_indice.png\")\n\nDownloading data from 'https://www.data.gouv.fr/fr/datasets/r/6b5a3e7e-7de7-437c-b8eb-a04ab4138fbb' to file '/home/runner/.cache/pooch/860fab6bce08b8aa4dbc79f5460c571c-6b5a3e7e-7de7-437c-b8eb-a04ab4138fbb'.\nSHA256 hash of downloaded file: 540ca409eebfe223f6da2b0feb0437fd825379d28ef2684119decf924a257374\nUse this value as the 'known_hash' argument of 'pooch.retrieve' to ensure that the file hasn't changed if it is downloaded again in the future.\n\n\n\n\n\n\n\n\n\nimport datetime\ncurrent_time = datetime.datetime.now()\nprint(f\"Computation was performed at : {current_time} (GMT)\")\n\nComputation was performed at : 2023-07-13 14:37:05.403645 (GMT)\n\n\nSources are: - inflation : https://www.insee.fr/fr/statistiques/serie/001763852#Telechargement - point d’indice: https://www.data.gouv.fr/fr/datasets/r/6b5a3e7e-7de7-437c-b8eb-a04ab4138fbb"
  }
]